{"version":3,"sources":["User.js","UserList.js","Search.js","InfoList.js","App.js","index.js"],"names":["UserCard","props","userCover","avatar_url","userTitle","login","className","style","backgroundImage","UserList","useState","images","setImages","page","setPage","fetchImages","fetch","then","resp","json","data","newImages","useEffect","length","next","hasMore","dataLength","map","image","index","to","User","Search","state","query","userNew","error","retrieve","event","target","value","setState","users","items","this","type","placeholder","onChange","user","React","Component","GetRequest","strs","url","window","location","hash","theRequest","Object","indexOf","str","split","substr","i","unescape","InfoList","repos","setRepos","followers","setFollowers","states","avatar","r","fetchRepos","fetchFollowers","repo","full_name","follower","usersApp","exact","path","render","history","userMove","ReactDOM","document","getElementById"],"mappings":"mQA4BeA,EAxBE,SAACC,GAAW,IAIrBC,EAHwBD,EAAtBE,WAIFC,EAJwBH,EAAVI,MAMpB,OACE,6BACE,sBAAKC,UAAU,OAAf,UACE,qBAAKA,UAAU,WAAf,SACE,qBACEA,UAAU,aACVC,MAAO,CACLC,gBAAgB,OAAD,OAASN,EAAT,UAIrB,qBAAKI,UAAU,aAAf,SAA6BF,UCgCtBK,MAjDf,WAAqB,IAAD,EACUC,mBAAS,IADnB,mBACXC,EADW,KACHC,EADG,OAEMF,mBAAS,GAFf,mBAEXG,EAFW,KAELC,EAFK,KAMlB,SAASC,EAAYF,GACnBC,EAAQD,EAAO,GACfG,MAAM,6CACHC,MAAK,SAACC,GAAD,OAAUA,EAAKC,UACpBF,MAAK,SAACG,GACL,IAAMC,EAAS,sBAAOV,GAAP,YAAkBS,IAEjCR,EAAUS,MAIhB,OAbAC,qBAAU,kBAAMP,EAAYF,KAAO,IAcjC,qBAAKP,UAAU,uDAAf,SACE,qBAAKA,UAAU,YAAf,SACGK,EAAOY,OAAS,GACf,cAAC,IAAD,CACEC,KAAM,kBAAMT,EAAYF,EAAM,IAC9BY,SAAS,EACTC,WAAYf,EAAOY,OAHrB,SAKE,qBAAKjB,UAAU,qBAAf,SACE,qBAAKA,UAAU,kBAAf,SAEI,oBAAIA,UAAU,aAAd,SACCK,EAAOgB,KAAI,SAACC,EAAOC,GAAR,OACV,cAAC,IAAD,CAAMC,GAAE,uBAAkBF,EAAMvB,OAAhC,SACE,cAAC0B,EAAD,CACE5B,WAAYyB,EAAMzB,WAClBE,MAAOuB,EAAMvB,SAH6BwB,mBC2CnDG,G,kNAvEbC,MAAQ,CACNC,MAAO,GACPC,QAAS,GACTC,OAAO,G,EAGTC,SAAW,SAACC,GACV,IAAMJ,EAAQI,EAAMC,OAAOC,MAC3B,EAAKC,SAAS,CAAEP,MAAOA,IACnBA,EACFlB,MAAM,yCAAD,OAA0CkB,IAC5CjB,MAAK,SAACC,GAAD,OAAUA,EAAKC,UACpBF,MAAK,SAACyB,GACLA,EAAMC,MAAMpB,OAAS,EACjB,EAAKkB,SAAS,CAAEN,QAASO,EAAMC,MAAOP,OAAO,IAC7C,EAAKK,SAAS,CAAEN,QAAS,GAAIC,OAAO,OAEvC,EAAKK,SAAS,CAAEN,QAAS,GAAIC,OAAO,K,uDAGnC,IAAD,EAC2BQ,KAAKX,MAA/BC,EADD,EACCA,MAAOC,EADR,EACQA,QAASC,EADjB,EACiBA,MACxB,OACE,sBAAK9B,UAAU,eAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,cAAC,IAAD,CAAMA,UAAU,eAAewB,GAAG,IAAlC,mBAGA,qBAAKxB,UAAU,6BAAf,SACE,uBACEuC,KAAK,OACLC,YAAY,6BACZN,MAAON,EACPa,SAAUH,KAAKP,gBAIrB,sBAAK/B,UAAU,uBAAf,UACG6B,EAAQZ,OAAS,GAChB,gCACE,qBAAKjB,UAAU,GAAf,SACE,kDAAqB6B,EAAQZ,OAA7B,eAEF,oBAAIjB,UAAU,aAAd,SACG6B,EAAQR,KAAI,SAACqB,EAAMnB,GAAP,OACX,cAAC,IAAD,CAAMC,GAAE,uBAAkBkB,EAAK3C,OAA/B,SACE,cAAC0B,EAAD,CACE5B,WAAY6C,EAAK7C,WACjBE,MAAO2C,EAAK3C,SAH6BwB,WAUpDO,GACC,8BACE,qBAAK9B,UAAU,GAAf,SACE,sH,GA3DK2C,IAAMC,YCD3B,SAASC,IACP,IAAIC,EACAC,EAAMC,OAAOC,SAASC,KACtBC,EAAa,IAAIH,OAAOI,OAC5B,IAA0B,IAAtBL,EAAIM,QAAQ,KAAa,CAC3B,IAAIC,EAAMP,EAAIQ,MAAM,KAEpBT,GADAQ,EAAMA,EAAI,GAAGE,OAAO,IACTD,MAAM,KACjB,IAAK,IAAIE,EAAI,EAAGA,EAAIX,EAAK7B,OAAQwC,IAC/BN,EAAWL,EAAKW,GAAGF,MAAM,KAAK,IAAMG,SAASZ,EAAKW,GAAGF,MAAM,KAAK,IAGpE,OAAOJ,EA6DMQ,MA1Df,WAAqB,IAAD,EAEQvD,mBAAS,IAFjB,mBAEXwD,EAFW,KAEJC,EAFI,OAIgBzD,mBAAS,IAJzB,mBAIX0D,EAJW,KAIAC,EAJA,KAoClB,OA9BA/C,qBAAU,YAKV,WACE,IAAIgD,EAASnB,IAEToB,EAASD,GAAUA,EAAOC,OAC9BA,GACEvD,MAAM,gCAAD,OAAiCuD,EAAjC,WACFtD,MAAK,SAACC,GAAD,OAAUA,EAAKC,UACpBF,MAAK,SAACG,GACL,IAAMoD,EAAC,sBAAON,GAAP,YAAiB9C,IACxB+C,EAASK,MAbfC,GAiBF,WACE,IAAIH,EAASnB,IACToB,EAASD,GAAUA,EAAOC,OAC9BA,GACEvD,MAAM,gCAAD,OAAiCuD,EAAjC,eACFtD,MAAK,SAACC,GAAD,OAAUA,EAAKC,UACpBF,MAAK,SAACG,GACL,IAAMoD,EAAC,sBAAOJ,GAAP,YAAqBhD,IAC5BiD,EAAaG,MAxBnBE,KACC,IA4BD,sBAAKpE,UAAU,eAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,cAAC,IAAD,CAAMA,UAAU,eAAewB,GAAG,IAAlC,mBAGA,qBAAKxB,UAAU,4BAAf,0BAEF,sBAAKA,UAAU,uBAAf,UACE,8CACC4D,EAAMvC,KAAI,SAACgD,EAAM9C,GAAP,OACT,qBAAKvB,UAAU,YAAf,SAAwCqE,EAAKC,WAAb/C,MAElC,2CACCuC,EAAUzC,KAAI,SAACkD,EAAUhD,GAAX,OACb,qBAAKvB,UAAU,YAAf,SAAwCuE,EAASxE,OAAjBwB,aCtB3BiD,E,4MAvCb7C,MAAQ,CAAES,MAAO,I,oGAIP,IAAD,OACCA,EAAUE,KAAKX,MAAfS,MACR,OACE,sBAAKpC,UAAU,MAAf,UAEE,cAAC,IAAD,CACEyE,OAAK,EACLC,KAAK,IACLC,OAAQ,kBACN,sBAAK3E,UAAU,aAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,oDAEF,cAAC,EAAD,IACA,qBAAKA,UAAU,cAAf,SACE,cAAC,IAAD,CAAMwB,GAAG,UAAT,4BAOR,cAAC,IAAD,CACEkD,KAAK,UACLC,OAAQ,cAAGC,QAAH,OACN,cAAC,EAAD,CAAQxC,MAAOA,EAAOyC,SAAU,EAAKA,cAIzC,cAAC,IAAD,CAAOH,KAAK,QAAQC,OAAQ,cAAGC,QAAH,OAAiB,cAAC,EAAD,c,GAlC9BjC,IAAMC,W,MCM7BkC,IAASH,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFI,SAASC,eAAe,W","file":"static/js/main.103bc556.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\n/* This component builds the user */\r\n\r\nconst UserCard = (props) => {\r\n  const { avatar_url, login } = props;\r\n\r\n  /* Checking to see if cover, title and author is present, provide alternative if not.*/\r\n  const userCover = avatar_url;\r\n  const userTitle = login;\r\n\r\n  return (\r\n    <li>\r\n      <div className=\"user\">\r\n        <div className=\"user-top\">\r\n          <div\r\n            className=\"user-cover\"\r\n            style={{\r\n              backgroundImage: `url(${userCover})`\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"user-title\">{userTitle}</div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UserCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserCard from \"./User\";\r\n\r\nfunction UserList() {\r\n  const [images, setImages] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n\r\n  useEffect(() => fetchImages(page), []);\r\n\r\n  function fetchImages(page, take = 30) {\r\n    setPage(page + 1);\r\n    fetch(`https://api.github.com/users?since={page}`)\r\n      .then((resp) => resp.json())\r\n      .then((data) => {\r\n        const newImages = [...images, ...data];\r\n\r\n        setImages(newImages);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"hero is-fullheight is-info is-bold has-text-centered\">\r\n      <div className=\"hero-body\">\r\n        {images.length > 0 && (\r\n          <InfiniteScroll\r\n            next={() => fetchImages(page, 5)}\r\n            hasMore={true}\r\n            dataLength={images.length}\r\n          >\r\n            <div className=\"list-users-content\">\r\n              <div className=\"usershelf-users\">\r\n                \r\n                  <ol className=\"users-grid\" >\r\n                  {images.map((image, index) => (\r\n                    <Link to={`/list?avatar=${image.login}`} key={index}>\r\n                      <UserCard\r\n                        avatar_url={image.avatar_url}\r\n                        login={image.login}\r\n                      />\r\n                    </Link>\r\n                    ))}\r\n                  </ol>\r\n                \r\n              </div>\r\n            </div>\r\n          </InfiniteScroll>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserList;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nimport UserCard from \"./User\";\r\nimport \"./App.css\";\r\n\r\nclass Search extends React.Component {\r\n  state = {\r\n    query: \"\",\r\n    userNew: [],\r\n    error: false\r\n  };\r\n\r\n  retrieve = (event) => {\r\n    const query = event.target.value;\r\n    this.setState({ query: query });\r\n    if (query) {\r\n      fetch(`https://api.github.com/search/users?q=${query}`)\r\n        .then((resp) => resp.json())\r\n        .then((users) => {\r\n          users.items.length > 0\r\n            ? this.setState({ userNew: users.items, error: false })\r\n            : this.setState({ userNew: [], error: true });\r\n        });\r\n    } else this.setState({ userNew: [], error: false });\r\n  };\r\n\r\n  render() {\r\n    const { query, userNew, error } = this.state;\r\n    return (\r\n      <div className=\"search-users\">\r\n        <div className=\"search-users-bar\">\r\n          <Link className=\"close-search\" to=\"/\">\r\n            Close\r\n          </Link>\r\n          <div className=\"search-users-input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Please search by username.\"\r\n              value={query}\r\n              onChange={this.retrieve}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"search-users-results\">\r\n          {userNew.length > 0 && (\r\n            <div>\r\n              <div className=\"\">\r\n                <h3>Search returned {userNew.length} users </h3>\r\n              </div>\r\n              <ol className=\"users-grid\">\r\n                {userNew.map((user, index) => (\r\n                  <Link to={`/list?avatar=${user.login}`} key={index}>\r\n                    <UserCard\r\n                      avatar_url={user.avatar_url}\r\n                      login={user.login}\r\n                    />\r\n                  </Link>\r\n                ))}\r\n              </ol>\r\n            </div>\r\n          )}\r\n          {error && (\r\n            <div>\r\n              <div className=\"\">\r\n                <h3>\r\n                  Your search didn't find this user. Try again with a different\r\n                  keyword.\r\n                </h3>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./App.css\";\r\n\r\n\r\nfunction GetRequest() {\r\n  var strs;\r\n  var url = window.location.hash;\r\n  var theRequest = new window.Object();\r\n  if (url.indexOf(\"?\") !== -1) {\r\n    var str = url.split('?')\r\n    str = str[1].substr(0);\r\n    strs = str.split(\"&\");\r\n    for (var i = 0; i < strs.length; i++) {\r\n      theRequest[strs[i].split(\"=\")[0]] = unescape(strs[i].split(\"=\")[1]);\r\n    }\r\n  }\r\n  return theRequest;\r\n}\r\n\r\nfunction InfoList() {\r\n\r\n  const [repos, setRepos] = useState([]);\r\n\r\n  const [followers, setFollowers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchRepos();\r\n    fetchFollowers();\r\n  }, []);\r\n\r\n  function fetchRepos() {\r\n    var states = GetRequest();\r\n    \r\n    var avatar = states && states.avatar;\r\n    avatar &&\r\n      fetch(`https://api.github.com/users/${avatar}/repos`)\r\n        .then((resp) => resp.json())\r\n        .then((data) => {\r\n          const r = [...repos, ...data];\r\n          setRepos(r);\r\n        });\r\n  }\r\n\r\n  function fetchFollowers() {\r\n    var states = GetRequest();\r\n    var avatar = states && states.avatar;\r\n    avatar &&\r\n      fetch(`https://api.github.com/users/${avatar}/followers`)\r\n        .then((resp) => resp.json())\r\n        .then((data) => {\r\n          const r = [...followers, ...data];\r\n          setFollowers(r);\r\n        });\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-users\">\r\n      <div className=\"search-users-bar\">\r\n        <Link className=\"close-search\" to=\"/\">\r\n          Close\r\n        </Link>\r\n        <div className=\"search-users-info-wrapper\">info list</div>\r\n      </div>\r\n      <div className=\"search-users-results\">\r\n        <h4>repositories</h4>\r\n        {repos.map((repo, index) => (\r\n          <div className=\"repo-list\" key={index}>{repo.full_name}</div>\r\n        ))}\r\n        <h4>followers</h4>\r\n        {followers.map((follower, index) => (\r\n          <div className=\"repo-list\" key={index}>{follower.login}</div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoList;\r\n","import React from \"react\";\nimport { Route, Link } from \"react-router-dom\";\n\nimport UserList from \"./UserList\";\nimport Search from \"./Search\";\nimport InfoList from \"./InfoList\";\n\nimport \"./App.css\";\n\n/* Main Application */\nclass usersApp extends React.Component {\n  state = { users: [] };\n\n  /* Component handler to get library data */\n  componentDidMount() {}\n  render() {\n    const { users } = this.state;\n    return (\n      <div className=\"app\">\n        {/* user Shelf Page */}\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <div className=\"list-users\">\n              <div className=\"list-users-title\">\n                <h1>Github User List</h1>\n              </div>\n              <UserList />\n              <div className=\"open-search\">\n                <Link to=\"/search\">Search</Link>\n              </div>\n            </div>\n          )}\n        />\n\n        {/* Search Page */}\n        <Route\n          path=\"/search\"\n          render={({ history }) => (\n            <Search users={users} userMove={this.userMove} />\n          )}\n        />\n\n        <Route path=\"/list\" render={({ history }) => <InfoList />} />\n      </div>\n    );\n  }\n}\n\nexport default usersApp;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\nimport \"./index.css\";\n\n// 使用github aoi开发应用\n// https://api.github.com/users?since={page} 使用这个接口渲染展示user name和头像\n// 实现无限滚动\n// 搜索\n// https://api.github.com/users/<login> 点击展示user使用的仓库\n// 展示该用户的关注者列表\n// 响应式\n// 好看一点\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}